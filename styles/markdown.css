/* 自定义highlight.js样式，适配主题系统 */
.hljs {
  background: transparent !important;
  color: inherit !important;
}

/* 针对不同主题的代码高亮样式 */
[data-theme="light"] .hljs-keyword,
[data-theme="light"] .hljs-selector-tag,
[data-theme="light"] .hljs-title,
[data-theme="light"] .hljs-section,
[data-theme="light"] .hljs-doctag,
[data-theme="light"] .hljs-name,
[data-theme="light"] .hljs-strong {
  color: #d73a49;
  font-weight: bold;
}

[data-theme="light"] .hljs-string,
[data-theme="light"] .hljs-title.class_,
[data-theme="light"] .hljs-title.class_.inherited__,
[data-theme="light"] .hljs-title.function_,
[data-theme="light"] .hljs-attr,
[data-theme="light"] .hljs-symbol,
[data-theme="light"] .hljs-bullet,
[data-theme="light"] .hljs-addition {
  color: #032f62;
}

[data-theme="light"] .hljs-comment,
[data-theme="light"] .hljs-quote,
[data-theme="light"] .hljs-deletion,
[data-theme="light"] .hljs-meta {
  color: #6a737d;
  font-style: italic;
}

[data-theme="light"] .hljs-number,
[data-theme="light"] .hljs-literal {
  color: #005cc5;
}

[data-theme="dark"] .hljs-keyword,
[data-theme="dark"] .hljs-selector-tag,
[data-theme="dark"] .hljs-title,
[data-theme="dark"] .hljs-section,
[data-theme="dark"] .hljs-doctag,
[data-theme="dark"] .hljs-name,
[data-theme="dark"] .hljs-strong {
  color: #ff7b72;
  font-weight: bold;
}

[data-theme="dark"] .hljs-string,
[data-theme="dark"] .hljs-title.class_,
[data-theme="dark"] .hljs-title.class_.inherited__,
[data-theme="dark"] .hljs-title.function_,
[data-theme="dark"] .hljs-attr,
[data-theme="dark"] .hljs-symbol,
[data-theme="dark"] .hljs-bullet,
[data-theme="dark"] .hljs-addition {
  color: #a5d6ff;
}

[data-theme="dark"] .hljs-comment,
[data-theme="dark"] .hljs-quote,
[data-theme="dark"] .hljs-deletion,
[data-theme="dark"] .hljs-meta {
  color: #8b949e;
  font-style: italic;
}

[data-theme="dark"] .hljs-number,
[data-theme="dark"] .hljs-literal {
  color: #79c0ff;
}

/* Markdown样式增强 */
.markdown-content {
  line-height: 1.6;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  font-weight: 600;
}

.markdown-content h1:first-child,
.markdown-content h2:first-child,
.markdown-content h3:first-child,
.markdown-content h4:first-child,
.markdown-content h5:first-child,
.markdown-content h6:first-child {
  margin-top: 0;
}

.markdown-content ul,
.markdown-content ol {
  margin: 0.5em 0;
  padding-left: 1.5em;
}

.markdown-content li {
  margin: 0.25em 0;
}

.markdown-content pre {
  overflow-x: auto;
  border-radius: 6px;
  padding: 16px;
  margin: 1em 0;
  max-width: 100%;
  width: 100%;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
}

.markdown-content code {
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 0.9em;
  max-width: 100%;
  overflow-wrap: break-word;
  word-break: break-word;
}

.markdown-content blockquote {
  margin: 1em 0;
  padding-left: 1em;
  border-radius: 4px;
}

.markdown-content table {
  border-spacing: 0;
  border-collapse: collapse;
  margin: 1em 0;
}

.markdown-content th,
.markdown-content td {
  padding: 8px 12px;
  text-align: left;
}

.markdown-content hr {
  margin: 2em 0;
  border: none;
  height: 1px;
}

/* 确保在卡片内的markdown内容适当的边距 */
.markdown-content p:first-child {
  margin-top: 0;
}

.markdown-content p:last-child {
  margin-bottom: 0;
}

/* 代码块在卡片容器中的宽度控制 */
.markdown-content pre,
.markdown-content code {
  max-width: 100% !important;
  box-sizing: border-box;
}

/* 确保highlight.js的代码块样式不会撑破容器 */
.markdown-content .hljs {
  max-width: 100%;
  overflow-wrap: break-word;
  word-break: break-word;
  white-space: pre-wrap;
}

/* 在任何父容器中都保持合适的宽度 */
.markdown-content {
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
  /* 强制所有子元素遵循换行规则 */
  white-space: normal;
}

.markdown-content * {
  max-width: 100%;
  box-sizing: border-box;
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
}

/* 特别针对可能包含长文本的元素 */
.markdown-content p,
.markdown-content div,
.markdown-content span,
.markdown-content strong,
.markdown-content em,
.markdown-content a {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  hyphens: auto;
}

/* 确保表格单元格内容也能正确换行 */
.markdown-content table,
.markdown-content th,
.markdown-content td {
  table-layout: fixed;
  word-wrap: break-word !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
}
